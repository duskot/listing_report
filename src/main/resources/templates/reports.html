<div class="container py-5">
    <div class="row">
        <div class="col-10 mx-auto">
            <h1>Reports</h1>
            <!--display error if any-->
            <div class="alert alert-danger" role="alert" th:if="${!status}">
                <strong>Error:</strong>
                <span th:text="${message}"></span>
            </div>

            <h3>Average Listing Selling Price per Seller Type</h3>
            <!--display -->
            <table class="table table-striped" th:if="${status}">
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Seller Type</th>
                    <th scope="col">Average Price</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="averagePrice, i : ${averagePricesPerSellerType}">
                    <th scope="row" th:text="${i.index + 1}"></th>
                    <td th:text="${averagePrice.key}"></td>
                    <td th:text="${#numbers.formatDecimal(averagePrice.value,1,2)}"></td>
                </tr>
                </tbody>
            </table>

            <h3>Distribution (in percent) of available cars by Make</h3>
            <!--display -->
            <table class="table table-striped" th:if="${status}">
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Make</th>
                    <th scope="col">Distribution</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="distribution, i : ${distributionByMake}">
                    <th scope="row" th:text="${i.index + 1}"></th>
                    <td th:text="${distribution.key}"></td>
                    <td th:text="${#numbers.formatDecimal(distribution.value,1,0)}"></td>
                </tr>
                </tbody>
            </table>

            <h3>Average price of the 30% most contacted listings</h3>
            <!--display -->
            <a>Average Price: </a><a th:text="${#numbers.formatDecimal(averagePriceMostContacted,1,2)}"/>
        </div>
    </div>
</div>